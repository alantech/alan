AnyCloud CLI has a set of flags useful for deploying applications directly from a CI/CD tool.

## Relevant non-interactive mode AnyCloud flags

- `-n, --non-interactive` Enables non interactive CLI mode
- `-a, --app-name <APP_NAME>` App name that will be deployed
- `-c, --config-name <CONFIG_NAME>` Deploy configuration name as defined on `anycloud.json`

## Secrets

The following secrets have to be defined on the CI/CD tool to later be used as environment variables.

- `CREDENTIALS_NAME` Credentials name as defined on `anycloud.json`
- `CLOUD_NAME` Cloud to deploy on. Options are: `AWS`, `GCP`, `Azure`
- `AUTH_TOKEN` Authentication token generated by GitHub. [More info.](../authenticate.md)

### AWS deployment

- `AWS_ACCESS_KEY`
- `AWS_SECRET`

### GCP deployment

- `GCP_PROJECT_ID`
- `GCP_CLIENT_EMAIL`
- `GCP_PRIVATE_KEY`

### Azure deployment

- `AZ_APP_ID`
- `AZ_DIRECTORY_ID`
- `AZ_SUBSCRIPTION_ID`
- `AZ_SECRET`

## CI/CD steps

On your CI/CD tool define the following actions:

1. [Install AnyCloud](../install.md). This is an example using NPM:
    ```bash
    npm install -g anycloud
    ```

2. Set environment variables for every secret defined in the previous section.

3. Run AnyCloud in non-interactive mode.
    ```bash
    anycloud new --non-interactive --config-name single-aws --app-name ci-deploy
    ```
